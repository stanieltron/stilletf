import { NextResponse } from "next/server";

// Palette aligned to Sona design tokens (uses CSS variables)
const PALETTE = [
  "var(--accent)",
  "var(--accent-soft)",
  "var(--pos)",
  "var(--chrome)",
  "var(--text)",
  "var(--muted)",
  "var(--line)",
  "var(--accent-strong)",
  "var(--bg-dark)",
  "var(--bg-alt)",
];

const COLORS = Object.fromEntries(
  Array.from({ length: 20 }, (_, i) => {
    const key = `asset${i + 1}`;
    const color = PALETTE[i % PALETTE.length];
    return [key, color];
  })
);


// Base assets WITHOUT color
const BASE_ASSETS = {
  asset1: {
    name: "Bitcoin",
    yearlyYield: 0.02,
    prices: [
      29001.720703, 33114.359375, 45137.769531, 58918.832031, 57750.175781, 37332.855469, 35040.835938, 41626.195312, 47166.6875, 43790.894531, 61318.957031, 57005.425781,
      46306.445312, 38483.125, 43193.234375, 45538.675781, 37714.875, 31792.310547, 19784.726562, 23336.896484, 20049.763672, 19431.789062, 20495.773438, 17168.566406,
      16547.496094, 23139.283203, 23147.353516, 28478.484375, 29268.806641, 27219.658203, 30477.251953, 29230.111328, 25931.472656, 26967.916016, 34667.78125, 37712.746094,
      42265.1875, 42582.605469, 61198.382812, 71333.648438, 60636.855469, 67491.414062, 62678.292969, 64619.25, 58969.898438, 63329.5, 70215.1875, 96449.054688,
      93429.203125, 102405.023438, 84373.007812, 82548.914062, 94207.3125, 104638.09375, 107135.335938, 115758.203125, 108236.710938, 114056.085938, 109556.164062, 106547.523438,
    ],
  },
  asset2: {
    name: "Ethereum",
    yearlyYield: 0.03,
    prices: [
      737.803406, 1314.986206, 1416.04895, 1918.362061, 2773.207031, 2714.945312, 2274.547607, 2536.209961, 3433.732666, 3001.678955, 4288.074219, 4631.479004,
      3682.632812, 2688.278809, 2919.201172, 3281.642822, 2730.186768, 1942.328003, 1067.298828, 1681.517334, 1553.684937, 1327.978638, 1572.714478, 1295.688599,
      1196.77124, 1586.5354, 1605.895142, 1822.022095, 1876.924316, 1874.130493, 1933.188965, 1856.162354, 1645.63916, 1671.161865, 1816.458984, 2052.556152,
      2281.471191, 2282.544434, 3341.919678, 3647.856445, 3012.286865, 3760.026611, 3432.88916, 3231.295654, 2513.393799, 2603.062744, 2515.799316, 3705.705322,
      3332.531738, 3298.265137, 2237.905273, 1823.47998, 1793.775391, 2529.087402, 2486.464355, 3696.707764, 4390.019043, 4145.95752, 3847.080322, 3602.308105,
    ],
  },
  asset3: {
    name: "BNB",
    yearlyYield: 0.0,
    prices: [
      37.376034, 44.275993, 209.574402, 302.063446, 624.080566, 354.329346, 303.295868, 333.549591, 464.418732, 387.057343, 524.364441, 622.669861,
      511.708313, 375.277313, 395.612427, 428.916107, 377.767822, 320.485107, 219.300095, 283.579468, 279.238098, 284.192291, 326.360718, 300.794342,
      246.349197, 312.361053, 301.474823, 317.040009, 337.645538, 306.866699, 240.369781, 241.120651, 216.597794, 214.821304, 226.439941, 227.683807,
      312.435699, 300.351074, 399.778717, 606.90863, 578.488037, 593.522339, 581.771118, 576.368164, 532.896973, 567.260071, 576.034485, 654.329163,
      700.986877, 677.375366, 587.451599, 605.072815, 599.681702, 658.501282, 657.02533, 783.666809, 857.816772, 1008.483459, 1088.955444, 992.5354,
    ],
  },
  asset4: {
    name: "Chainlink",
    yearlyYield: 0.0,
    prices: [
      11.270538, 22.598434, 24.663532, 29.351137, 38.128506, 32.088585, 19.497236, 22.753702, 26.750708, 23.986349, 29.985006, 25.341774,
      19.592325, 17.240427, 15.11647, 16.910994, 10.997047, 7.59467, 6.252963, 7.666137, 6.630673, 7.581146, 7.861647, 7.680302,
      5.568658, 6.952308, 7.192696, 7.594569, 7.052086, 6.480095, 6.308454, 7.544678, 5.875497, 8.180992, 11.375027, 14.404431,
      14.946123, 15.398607, 19.287716, 19.137728, 13.133521, 18.422333, 14.260199, 12.828847, 11.024574, 11.850573, 11.422246, 19.022661,
      20.001366, 25.148338, 14.816688, 13.512477, 14.292942, 13.976827, 13.380764, 16.955446, 23.224033, 21.329388, 17.240046, 15.242859,
    ],
  },
  asset5: {
    name: "Yield Dollars (T-Bills)",
    yearlyYield: 0.0432,
    prices: [
      79.009171, 79.011742, 79.00312, 78.994514, 78.994514, 78.985863, 78.968597, 78.959953, 78.951317, 78.959953, 78.951317, 78.934052,
      78.934052, 78.934052, 78.916794, 78.934052, 78.944443, 78.970345, 79.004875, 79.014404, 79.129356, 79.256592, 79.368462, 79.572411,
      79.579544, 80.270241, 80.252769, 80.644394, 80.834023, 81.154015, 81.511719, 81.824753, 82.212227, 82.53064, 82.896133, 83.271492,
      83.233315, 84.359207, 84.359207, 84.75251, 85.072334, 85.477249, 85.802673, 86.201614, 86.590218, 86.961601, 87.328781, 87.663979,
      87.672531, 88.672203, 88.643219, 88.969002, 89.240479, 89.573402, 89.869339, 90.199615, 90.521248, 90.817276, 91.146996, 91.167961,
    ],
  },
  asset6: {
    name: "S&P 500 (SPY)",
    yearlyYield: 0.0109,
    prices: [
      348.553558, 346.472351, 356.106171, 371.057953, 391.970367, 394.544037, 402.077209, 413.240448, 425.538422, 404.410431, 434.171814, 430.683289,
      449.023926, 426.836182, 414.237183, 428.477417, 392.084625, 392.969696, 359.014465, 393.768799, 377.702271, 341.382843, 370.645294, 391.250031,
      367.017639, 391.889709, 382.036621, 394.695282, 402.530945, 404.389099, 428.999878, 444.688171, 437.46106, 415.245605, 407.664093, 444.901764,
      463.335327, 472.623077, 497.287781, 511.959473, 492.843964, 517.771851, 534.315186, 542.529846, 555.206421, 565.134888, 561.809814, 595.312439,
      579.040283, 596.592407, 589.018738, 554.531006, 551.376831, 586.028076, 614.325623, 630.332458, 643.266602, 664.338135, 682.059998, 683.340027,
    ],
  },
  asset7: {
    name: "Nasdaq-100 (QQQ)",
    yearlyYield: 0.0047,
    prices: [
      304.302887, 305.651154, 305.243073, 310.091766, 328.832428, 324.882446, 344.826965, 355.103638, 370.084351, 348.665314, 376.501282, 384.01947,
      387.949127, 354.467377, 338.601501, 353.96936, 306.222687, 301.364197, 273.992371, 308.975922, 293.118713, 261.766693, 272.726166, 287.846497,
      261.275513, 289.774963, 288.732422, 315.652313, 317.746582, 342.797119, 363.90744, 378.473053, 372.86026, 353.407837, 346.609283, 384.108337,
      404.547119, 412.946442, 434.763885, 439.725586, 421.04895, 446.951111, 475.114258, 467.88382, 473.048615, 484.768829, 481.252716, 507.003723,
      508.485748, 520.324036, 506.257202, 467.154938, 474.386658, 517.927246, 550.383118, 564.355774, 569.739563, 599.674805, 629.070007, 632.080017,
    ],
  },
  asset8: {
    name: "MSCI World (URTH)",
    yearlyYield: 0.013,
    prices: [
      103.85096, 103.746681, 106.333603, 110.260513, 115.02491, 116.876686, 117.779343, 120.834114, 123.826134, 118.611191, 125.533157, 122.963242,
      126.92131, 121.28466, 117.749702, 121.133423, 110.982262, 111.473747, 101.020134, 110.178337, 105.135132, 95.287048, 102.408562, 110.054413,
      104.153183, 112.371635, 109.461746, 113.005463, 115.041435, 113.898605, 119.583931, 124.640091, 121.886261, 116.52404, 113.556877, 123.903145,
      128.984161, 131.198746, 137.142761, 141.669235, 136.057602, 142.451355, 144.191544, 147.808701, 151.958023, 154.648682, 151.514511, 158.817719,
      153.258987, 159.432175, 158.777206, 152.009323, 153.100922, 162.061905, 168.085526, 171.100006, 175.880005, 181.559998, 185.029999, 185.360001,
    ],
  },
  asset9: {
    name: "Emerging Mkts (EEM)",
    yearlyYield: 0.0222,
    prices: [
      46.158375, 48.115788, 48.494865, 48.14286, 48.720497, 49.523785, 49.776505, 46.776318, 47.510597, 45.670364, 46.159885, 44.274334,
      44.283401, 44.932381, 42.991199, 41.537613, 38.989239, 39.228432, 36.891651, 37.075268, 36.58353, 32.361996, 31.721806, 36.667034,
      35.163982, 38.959087, 36.010784, 37.16938, 36.85854, 35.973106, 37.26358, 39.824413, 37.185272, 36.027088, 34.840424, 37.555511,
      38.172573, 37.134026, 38.681686, 39.736027, 39.648968, 40.422794, 41.196621, 41.831699, 42.240765, 44.665932, 43.292645, 42.133625,
      40.731121, 42.310123, 42.795418, 43.28072, 43.340141, 45.083256, 47.777161, 48.560001, 49.860001, 53.400002, 55.299999, 55.650002,
    ],
  },
  asset10: {
    name: "AI & Robotics (BOTZ)",
    yearlyYield: 0.0022,
    prices: [
      32.813034, 33.521084, 33.29332, 32.817978, 34.006325, 33.917198, 34.610397, 33.735767, 36.374321, 36.275127, 37.376179, 35.908108,
      35.650211, 29.460526, 29.331575, 28.776087, 23.657696, 23.657696, 20.156157, 22.38855, 20.479757, 17.974466, 19.505478, 21.304914,
      20.430046, 23.661077, 23.402596, 25.351156, 24.764601, 27.120766, 28.572243, 29.024054, 26.623644, 24.621641, 22.679401, 26.324839,
      28.386602, 28.470251, 31.060268, 31.687849, 29.765261, 30.661806, 30.731537, 30.724623, 31.482763, 32.07132, 31.682274, 33.288334,
      31.871809, 33.098797, 31.991514, 28.390348, 28.490105, 30.824377, 32.570095, 33.470001, 33.549999, 35.43, 37.830002, 38.25,
    ],
  },
  asset11: {
    name: "Disruptive Innovation (ARKK)",
    yearlyYield: 0.0,
    prices: [
      120.521233, 135.187225, 128.223282, 117.983902, 118.790459, 110.262573, 128.636383, 118.033089, 120.029808, 108.718307, 119.292099, 103.957642,
      93.039574, 74.806129, 69.887154, 65.741722, 46.740196, 43.725338, 39.550159, 44.756737, 41.533619, 37.417938, 37.96339, 37.17001,
      30.981619, 39.599747, 39.292309, 40.006355, 35.62291, 40.155113, 43.774925, 50.032738, 43.388149, 39.341892, 35.080002, 46.110001,
      52.369999, 45.41, 51.25, 50.080002, 43.459999, 42.450001, 43.950001, 45.529999, 44.82, 47.529999, 45.889999, 57.98,
      56.77, 62.869999, 55.639999, 47.580002, 50.84, 56.369999, 70.290001, 75.330002, 74.959999, 86.300003, 88.980003, 88.190002,
    ],
  },
  asset12: {
    name: "US Treasuries 7-10Y (IEF)",
    yearlyYield: 0.0373,
    prices: [
      105.893936, 104.870964, 102.325211, 99.88932, 100.887894, 101.313614, 102.345345, 104.384735, 103.975197, 102.31086, 101.856514, 102.967636,
      102.328606, 100.334587, 99.933495, 95.880905, 91.806099, 92.365532, 91.565002, 94.25148, 90.597916, 86.306084, 85.036301, 88.090187,
      86.624924, 90.080704, 86.948181, 90.191719, 90.932884, 89.587334, 88.465485, 87.885818, 87.23246, 84.492271, 82.858772, 86.617798,
      89.630188, 90.201202, 88.106552, 88.73513, 85.934387, 87.477081, 88.540764, 91.099686, 92.328926, 93.609261, 90.443069, 91.350464,
      88.995895, 90.116302, 92.344498, 92.687889, 93.638344, 92.471069, 93.950531, 93.403244, 94.933884, 95.551079, 96.25174, 96.197098,
    ],
  },
  asset13: {
    name: "IG Corporate Bonds (LQD)",
    yearlyYield: 0.0435,
    prices: [
      115.292595, 113.638603, 110.847916, 109.202484, 110.350571, 111.038628, 113.493423, 115.111786, 114.726906, 113.00396, 113.582634, 113.442719,
      113.204506, 109.545631, 107.007652, 103.894737, 96.928993, 98.721069, 95.131393, 99.329048, 94.957359, 89.245598, 88.533699, 94.44561,
      92.684227, 98.075356, 93.696587, 97.26078, 97.888535, 96.12973, 96.922211, 96.976761, 95.765343, 92.346649, 90.086807, 96.933777,
      101.290909, 101.582298, 99.267937, 100.785591, 97.505028, 99.645584, 100.256271, 102.929932, 104.848099, 106.899323, 103.500992, 105.365738,
      102.190674, 103.50708, 105.577995, 105.072212, 104.782547, 104.981537, 107.202812, 107.107368, 108.181465, 110.275581, 110.424339, 110.130531,
    ],
  },
  asset14: {
    name: "T-Bills (BIL)",
    yearlyYield: 0.0432,
    prices: [
      79.009171, 79.011742, 79.00312, 78.994514, 78.994514, 78.985863, 78.968597, 78.959953, 78.951317, 78.959953, 78.951317, 78.934052,
      78.934052, 78.934052, 78.916794, 78.934052, 78.944443, 78.970345, 79.004875, 79.014404, 79.129356, 79.256592, 79.368462, 79.572411,
      79.579544, 80.270241, 80.252769, 80.644394, 80.834023, 81.154015, 81.511719, 81.824753, 82.212227, 82.53064, 82.896133, 83.271492,
      83.233315, 84.359207, 84.359207, 84.75251, 85.072334, 85.477249, 85.802673, 86.201614, 86.590218, 86.961601, 87.328781, 87.663979,
      87.672531, 88.672203, 88.643219, 88.969002, 89.240479, 89.573402, 89.869339, 90.199615, 90.521248, 90.817276, 91.146996, 91.167961,
    ],
  },
  asset15: {
    name: "Gold (GLD)",
    yearlyYield: 0.0,
    prices: [
      178.360001, 172.610001, 161.809998, 159.960007, 165.660004, 178.380005, 165.630005, 169.820007, 169.690002, 164.220001, 166.649994, 165.5,
      170.960007, 168.089996, 178.380005, 180.649994, 176.910004, 171.139999, 168.460007, 164.100006, 159.270004, 154.669998, 151.910004, 164.809998,
      169.639999, 179.410004, 169.779999, 183.220001, 184.800003, 182.320007, 178.270004, 182.350006, 180.020004, 171.449997, 184.089996, 188.75,
      191.169998, 188.449997, 189.309998, 205.720001, 211.869995, 215.300003, 215.009995, 226.550003, 231.289993, 243.059998, 253.509995, 245.589996,
      242.130005, 258.559998, 263.269989, 288.140015, 303.769989, 303.600006, 304.829987, 302.959991, 318.070007, 355.470001, 368.119995, 368.779999,
    ],
  },
  asset16: {
    name: "Silver (SLV)",
    yearlyYield: 0.0,
    prices: [
      24.57, 24.99, 24.66, 22.700001, 24.01, 25.9, 24.219999, 23.629999, 22.139999, 20.52, 22.09, 21.059999,
      21.51, 20.799999, 22.620001, 22.879999, 21.040001, 19.84, 18.639999, 18.700001, 16.58, 17.5, 17.620001, 20.43,
      22.02, 21.83, 19.219999, 22.120001, 23.0, 21.610001, 20.889999, 22.690001, 22.389999, 20.34, 20.98, 23.129999,
      21.780001, 20.91, 20.73, 22.75, 24.049999, 27.76, 26.57, 26.389999, 26.35, 28.41, 29.809999, 27.92,
      26.33, 28.51, 28.309999, 30.99, 29.6, 30.0, 32.810001, 33.32, 36.189999, 42.369999, 44.009998, 43.759998,
    ],
  },
  asset17: {
    name: "Broad Commodities (DBC)",
    yearlyYield: 0.0496,
    prices: [
      13.221523, 13.66224, 15.047352, 14.939423, 16.108673, 16.729275, 17.313898, 17.538754, 17.25094, 18.150362, 19.202688, 17.520765,
      18.690018, 20.165073, 21.469236, 23.438972, 24.761126, 25.903391, 23.960636, 23.483944, 23.133169, 21.505211, 22.593515, 22.926302,
      22.170786, 22.503719, 21.499331, 21.481234, 21.318359, 19.95203, 20.540186, 22.331797, 22.250359, 22.585154, 22.177971, 21.635057,
      19.942982, 21.19829, 20.875521, 21.805853, 22.157101, 22.090649, 22.052675, 21.435619, 20.989439, 21.141331, 21.445112, 21.017918,
      20.296436, 21.969999, 22.0, 22.5, 20.57, 20.879999, 21.809999, 22.450001, 22.209999, 22.530001, 22.879999, 23.049999,
    ],
  },
  asset18: {
    name: "Brent Oil (BNO)",
    yearlyYield: 0.0,
    prices: [
      12.88, 13.74, 16.200001, 15.88, 16.959999, 17.610001, 19.25, 19.51, 18.690001, 20.639999, 22.25, 18.700001,
      20.91, 24.200001, 27.16, 29.93, 30.549999, 33.939999, 32.740002, 32.380001, 29.959999, 27.32, 30.190001, 28.67,
      28.280001, 28.16, 27.540001, 26.58, 26.940001, 24.389999, 25.469999, 29.040001, 29.719999, 32.07, 30.200001, 28.43,
      27.309999, 28.85, 29.73, 31.91, 31.969999, 30.42, 32.150002, 31.299999, 29.950001, 28.309999, 29.49, 29.0,
      29.950001, 31.18, 30.16, 31.110001, 25.83, 26.93, 29.190001, 31.84, 30.32, 30.049999, 29.57, 29.67,
    ],
  },
  asset19: {
    name: "US REITs (VNQ)",
    yearlyYield: 0.0386,
    prices: [
      70.054474, 71.206863, 73.645813, 76.989922, 83.526703, 84.201096, 85.811279, 90.242538, 92.186798, 86.41346, 93.151352, 91.186485,
      99.105728, 91.611916, 88.421356, 93.448639, 90.119057, 85.896622, 78.995071, 86.347824, 81.156128, 69.952553, 73.188713, 77.686928,
      72.747719, 81.450462, 76.673981, 74.276817, 75.25621, 72.274872, 75.491104, 77.896736, 75.265457, 69.125816, 67.270638, 75.398094,
      81.514435, 78.345146, 79.895432, 80.763962, 74.983467, 78.402519, 78.892288, 86.214432, 90.715378, 92.899109, 90.536972, 94.393089,
      85.661537, 87.917587, 91.170204, 87.907883, 86.64312, 87.614204, 87.359169, 88.296661, 91.367332, 90.555092, 89.18, 89.050003,
    ],
  },
  asset20: {
    name: "Global Infrastructure (IGF)",
    yearlyYield: 0.03,
    prices: [
      37.782047, 37.341816, 37.65715, 39.47913, 40.854378, 41.152203, 39.750687, 40.765919, 41.325687, 40.783684, 42.445248, 40.294987,
      42.285309, 42.405659, 43.231503, 45.655201, 43.850891, 45.888592, 41.965801, 44.045643, 43.080807, 38.074589, 40.113483, 43.608738,
      41.724575, 44.4104, 42.8092, 43.895073, 45.06377, 42.606747, 43.204899, 44.636955, 42.42424, 40.416935, 39.33392, 43.003101,
      43.927391, 43.174709, 43.431648, 45.315838, 45.020844, 47.980358, 45.601322, 48.4557, 50.642838, 52.675129, 51.997696, 53.904182,
      50.58477, 52.310062, 52.585434, 53.765579, 55.457123, 58.023949, 58.220638, 59.080002, 60.349998, 61.119999, 61.0, 61.27,
    ],
  },
  
};

// Helper to inject colors so the final shape matches the original
function addColors(assets, colors) {
  return Object.fromEntries(
    Object.entries(assets).map(([id, data]) => [
      id,
      { ...data, color: colors[id] ?? data.color },
    ])
  );
}

// Build ASSETS with colors included
const ASSETS = addColors(BASE_ASSETS, COLORS);

// Export unchanged
export async function GET() {
  return NextResponse.json({ assets: ASSETS }, { status: 200 });
}
